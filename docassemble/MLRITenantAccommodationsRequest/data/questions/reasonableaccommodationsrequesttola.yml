---
include:
  - docassemble.AssemblyLine:assembly_line.yml
---
metadata:
  title: >-
    TenantAccommodationsRequesttoLandlord
  short title: >-
    AccommReqtoLandlord
  description: |-
    This interview helps a tenant in Massachusetts write a letter to a landlord to request reasonable accommodations for a person with a disability.
  can_I_use_this_form: |
    If you are or a member of your household is a person with a disability, you can use this interview to create a letter to send to your landlord to request reasonable accommodations.
  before_you_start: |
    This interview will help you write a letter to your landlord to request housing accommodations for a person with a disability.
    
    Before you get started, please gather:
    
    1. The name and address of your landlord or property management company. If you have a tenant portal for communication with your landlord or property management company, ensure you have access. 
    
    When you are finished, you will need to download the completed letter and either:
    
    1. Upload the signed letter to your tenant portal, 
    2. Send an email to your landlord or property management company and attach the signed letter, or;
    3. Print and mail the letter to your landlord or property management company. 
  
  maturity: production
  estimated_completion_minutes: 7
  estimated_completion_delta: 5
  LIST_topics: 
    - "HO-00-00-00-00"
    - "RI-03-01-00-00"
  tags:
    - "HO-00-00-00-00"
    - "RI-03-01-00-00"
  authors:
    - Suffolk LIT Lab
  original_form: []
  original_form_published_on: ""
  allowed_courts: []
  typical_role: "na"
  al_weaver_version: "1.11.0"
  generated_on: "2025-09-30"
  languages:
    - en
  jurisdiction: NAM-US-US+MA
  review_date: 2025-09-30
  form_titles:
    - ReasonableAccommodationsRequesttoLandlord
  form_numbers: []
  update_notes: |
---
code: |
  # This controls the default country and list of states in address field questions
  AL_DEFAULT_COUNTRY = "US"
---
code: |
  # This controls the default state in address field questions
  AL_DEFAULT_STATE = "MA"
---
code: |
  github_repo_name =  'docassemble-MLRITenantAccommodationsRequest'
---
code: |
  interview_short_title = "Tenant disability accommodations request letter"
---
code: |
  al_form_type = "letter" 
---
objects:
  - users: ALPeopleList.using(ask_number=True,target_number=1)
  - landlords: ALPeopleList.using(ask_number=True,target_number=1) 
---
sections:
  - review_reasonableaccommodationsrequesttola: Review your answers
---
#################### Interview order #####################
comment: |
  Controls order and branching logic for questions specific to this form
id: interview_order_reasonableaccommodationsrequesttola
code: |
  nav.set_section("review_reasonableaccommodationsrequesttola")
  user_role = "na"
  user_ask_role = "na"
  disability_exists
  if disability_exists == False: 
    no_disability
  request_subject
  is_animal
  if is_rent == True:
    paydate
    duedate_request
  set_progress(40)
  if is_custom == True:
    custom_change
  request_body
  users.gather()
  set_parts(subtitle=str(users))
  users[0].address.address
  users[0].phone_number
  set_progress(40)
  landlords.gather()
  set_parts(subtitle=str(landlords))
  landlords[0].address.address
  set_progress(60)
  basic_questions_signature_flow
  interview_order_reasonableaccommodationsrequesttola = True
---
###################### Main order ######################
comment: |
  This block includes the logic for standalone interviews.
  Delete mandatory: True to include in another interview
mandatory: True
code: |
  al_intro_screen
  reasonableaccommodationsrequesttola_intro
  interview_order_reasonableaccommodationsrequesttola
  signature_date
  # Store anonymous data for analytics / statistics
  store_variables_snapshot(
      persistent=True,
      data={
          "zip": showifdef("users[0].address.zip"),
          "reached_interview_end": True,
      },
  )
  reasonableaccommodationsrequesttola_download
---
id: ReasonableAccommodationsRequesttoLandlord
continue button field: reasonableaccommodationsrequesttola_intro
question: |
  Tenant accomodations request letter
subquestion: |
  This interview will help you write a letter to your landlord to request accommodations for a person with a disability.
  
  Before you get started:
  
  1. Gather the name and address of your landlord or property management company.
  2. Access your tenant portal website (if applicable). 
  
   When you are finished, you will need to download the completed letter and either:
    
    1. Upload the signed letter to your tenant portal, 
    2. Attach the letter to an email to your landlord or property management company, or;
    3. Print and mail the letter to your landlord or propety management company. 

  If you are or a member of your household is a person with a disability, you can use this interview to create a letter to send to your landlord to request accommodations.

  Most people take about 7 minutes to complete this interview.
---
id: Confirm Purpose
question: |
  Are you a tenant asking a landlord for accommodations?
fields:
  - no label: disability_exists
    datatype: yesnoradio  
---
id: No Disability Offramp
event: no_disability
question: | 
  Since you are not a tenant asking for an accomodation related to a disability you will not want to use this form.
buttons: 
  - Exit: exit
---
id: Use Information
question: |
  Are you requesting accomodations for yourself or for a member of your household?
fields:
  - Accommodations are for: request_subject
    input type: radio
    choices:
      - me: user
      - a member of my household: household_member
---
code: |
  if request_subject == "user":
    subject_ref = "I am"
  elif request_subject == "household_member":
    subject_ref ="a member of my household is"
  else: subject_ref = "a member of my household is"
---
id: Accommodation requests
question: |
  What types of accommodations do you need?
fields:
  - "Assistance animal": is_animal
    datatype: yesno
  - "Reserved parking space": is_parking
    datatype: yesno
  - "Change rent due date": is_rent
    datatype: yesno
  - "Custom request": is_custom
    datatype: yesno
---
code: |
    animal_body = "I am requesting permission for an assistance animal to assist with daily living. I understand that our building's rules state a no-pet policy. However, I am requesting that you make a reasonable accommodation in the building's rules to permit an assistance animal in my apartment."
---
code: |
    parking_body = "I am requesting a reserved parking space closest to my unit. I understand parking is on a first come, first serve basis, but due to my limited mobility, I am requesting a reserved parking space closest to my unit."
---
code: |
     rent_body = f"I am requesting to pay my rent on the { ordinal(duedate_request) } day of the month without being assessed a late fee. I receive my disability checks on the { ordinal(paydate) } day of the month."
---
Code: |
  request_body = request_body_build
---
Code: |
  request_body_build = ""
  if is_animal == True:
    request_body_build += animal_body + "\n\n"
  if is_parking == True:
    request_body_build += parking_body + "\n\n"
  if is_rent == True:
    request_body_build += rent_body + "\n\n" 
  if is_custom == True:
    request_body_build += custom_body + "\n\n"
---
id: Fixed income date
question: On which day of the month do you receive disability checks?
fields: 
  - "Enter day of the month as a number": paydate
    datatype: integer
    min: 1
    max: 31
---
id: Request rent deadline change details
question: Which day of the month do you want rent to be due?
fields: 
  - "Enter day of the month as a number": duedate_request
    datatype: integer
    min: 1
    max: 31
---
id: Custom request details
question: Custom accommodation request
fields:
  - "Describe accommodation": custom_change
    input type: area
    default: |
      Sample: permission to install a doorbell with a strobe.
    help: |
      Suggested format - I am requesting "[describe accommodation]."
      You may enter more than one request in this area. 
  - "Describe justifiction": custom_justification
    input type: area
    default: |
      Sample: I am requesting this to help my child who cannot hear the doorbell because of a disability.
    help: suggested format, complete sentence - "I am requesting [ describe how accommodation(s) will help]."
---
code: |
  custom_body = f"I am requesting { custom_change } { custom_justification }"
---
code: |
  signature_fields = ['users[0].signature']
---
id: preview request letter
question: |
  Preview your form before you sign it
subquestion: |
  Here is a preview of the form you will sign on the next page.   
  
  ${ al_recipient_bundle.as_pdf(key='preview') }

  Click the image to open it in a new tab. Click the "Edit answers" button
  to edit your answers.

  ${ action_button_html(url_action('review_reasonableaccommodationsrequesttola'), label='Edit answers', color='info') }
  
  Remember to come back to this window to continue and sign your form.
continue button field: reasonableaccommodationsrequesttola_preview_question    
---
id: request letter review screen
event: preview
question: |
  Review your answers
review:
  - Edit: users.revisit
    button: |
      **Users**

      % for item in users:
        * ${ item }
      % endfor
  - Edit: landlords.revisit
    button: |
      **Landlords**

      % for item in users:
        * ${ item }
      % endfor
  - Edit: request_subject
    button: |
      **Accommodations recipient**:
      ${ request_subject }
---
continue button field: users.revisit
question: |
  Edit users
subquestion: |
  ${ users.table }

  ${ users.add_action() }
---
table: users.table
rows: users
columns:
  - Phone number: |
      row_item.phone_number if defined("row_item.phone_number") else ""
  - Signature: |
      row_item.signature if defined("row_item.signature") else ""
  - Name: |
      row_item.name.full() if defined("row_item.name.first") else ""
  - Address: |
      row_item.address.block() if defined("row_item.address.address") else ""
edit:
  - phone_number
  - signature
  - name.first
  - address.address
confirm: TrueAL_DEFAULT_COUNTRY
---
table: landlords.table
rows: landlords
columns:
  - Phone number: |
      row_item.phone_number if defined("row_item.phone_number") else ""
  - Name: |
      row_item.name.full() if defined("row_item.name.first") else ""
  - Address: |
      row_item.address.block() if defined("row_item.address.address") else ""
edit:
  - phone_number
  - name.first
  - address.address
confirm: True
---
id: download reasonableaccommodationsrequesttola
event: reasonableaccommodationsrequesttola_download
question: |
  All done
subquestion: |
  Thank you ${users}. Your form is ready to download and deliver.
  
  View, download and send your form below. Click the "Edit answers" button to fix any mistakes.

  ${ action_button_html(url_action('review_reasonableaccommodationsrequesttola'), label='Edit answers', color='info') }
  
  
  ${ al_user_bundle.download_list_html() }
  

  ${ al_user_bundle.send_button_html(show_editable_checkbox=True) }

progress: 100
---
# ALDocument objects specify the metadata for each template
objects:
  - reasonableaccommodationsrequesttola_Post_interview_instructions: ALDocument.using(title="Instructions", filename="reasonableaccommodationsrequesttola_next_steps.docx", enabled=True, has_addendum=False)
  - reasonableaccommodationsrequesttola_attachment: ALDocument.using(title="ReasonableAccommodationsRequesttoLandlord", filename="reasonableaccommodationsrequesttola", enabled=True, has_addendum=False, )
---
# Bundles group the ALDocuments into separate downloads, such as for court and for the user
objects:
  - al_user_bundle: ALDocumentBundle.using(elements=[reasonableaccommodationsrequesttola_Post_interview_instructions, reasonableaccommodationsrequesttola_attachment], filename="reasonableaccommodationsrequesttola", title="All forms to download for your records", enabled=True)
  - al_recipient_bundle: ALDocumentBundle.using(elements=[reasonableaccommodationsrequesttola_attachment],  filename="reasonableaccommodationsrequesttola", title="All forms to file", enabled=True)
---
# Each attachment defines a key in an ALDocument. We use `i` as the placeholder here so the same template is 
# used for "preview" and "final" keys, and logic in the template checks the value of 
# `i` to show or hide the user's signature
attachment:
  name: Post-interview-Instructions
  filename: reasonableaccommodationsrequesttola_next_steps
  docx template file: accommodationrequestletter_next_steps.docx
  variable name: reasonableaccommodationsrequesttola_Post_interview_instructions[i]
  skip undefined: True
  tagged pdf: True
---
attachment:
  name: reasonableaccommodationsrequesttola
  filename: reasonableaccommodationsrequesttola
  variable name: reasonableaccommodationsrequesttola_attachment[i]
  skip undefined: True
  docx template file: reasonable-accomodation-request-letter-to-landlord.docx
  tagged pdf: True
